{% extends "app/base.html" %}
{% load static %}

{% block title %}GreenNest ‚Äì Organic Market{% endblock %}

{% block content %}



<!-- Hero -->
<section class="hero">
  <div class="container hero-wrap">
    <div class="hero-card">
      <span class="eyebrow">100% Organic ‚Äì Same Day Delivery</span>
      <h1>Eat clean, live green with food <span style="color:var(--green)">ORGANIC</span></h1>
      <p>Selected from standard farms, closed cold process, transparent labels.
         Start your healthy shopping cart today.</p>
      <div style="display:flex; gap:10px; margin-top:16px">
        <a class="btn btn-primary" href="{% url 'productlist' %}">Buy Now</a>
        <a class="btn btn-ghost" href="{% url 'aboutus' %}">Why choose GreenNest?</a>
      </div>

      <div class="chips">
        <span class="chip">ü•¶ Vegetable</span>
        <span class="chip">üçé Fruit</span>
        <span class="chip">üåæ Cereals & seeds</span>
        <span class="chip">ü•õ Milk and products</span>
      </div>

      <div class="highlights">
        <div class="badge"><span class="dot"></span>Chemical-free farming</div>
        <div class="badge"><span class="dot" style="background:var(--orange)"></span>Friendly packaging</div>
        <div class="badge"><span class="dot" style="background:var(--brown)"></span>Traceability</div>
        <div class="badge"><span class="dot" style="background:#7e7e7e"></span>100% Refund</div>
      </div>
    </div>

    <div class="hero-visual">
      <div class="card">
        <div class="ph"></div>
        <div class="ph orange"></div>
        <div class="ph brown"></div>
        <div class="ph"></div>
      </div>
    </div>
  </div>
</section>

<!-- New Products -->
<section id="products" class="container">
  <div class="section-head">
    <h2>New Products</h2>
    <a class="btn" style="border:1px solid var(--gray); background:white" href="{% url 'productlist' %}">See all products ‚Üí</a>
  </div>
  <div class="grid">
    {% for product in new_products %}
    {% include 'app/productcard.html' %}
    {% endfor %}
  </div>
</section>


{% if current_coupon %}
<section class="container">
  <div class="cta">
    <div class="left">
      <div class="leaf">%</div>
      <div>
        <h3 style="margin:0 0 4px; color:var(--green)">
          Discount code: <strong id="couponCode">{{ current_coupon.code }}</strong>
        </h3>
        <p class="subtle">
          {{ current_coupon.description|default:"Enter code for special offer!" }}
        </p>
      </div>
    </div>
    <button 
      class="btn btn-primary" 
      type="button" 
      onclick="copyCoupon()"
    >
      Copy the code
    </button>
  </div>
</section>
{% endif %}


<section id="about" class="container">
  <div class="section-head"><h2>Our Commitment</h2></div>
  <div class="grid" style="grid-template-columns:repeat(3,1fr)">
    <div class="card" style="border-color:var(--gray)">
      <div class="content">
        <h3>Cold chain & Fresh</h3>
        <p class="subtle">Store at 0‚Äì4¬∞C from warehouse to your door. Recycled paper packaging, soy ink.</p>
      </div>
    </div>
    <div class="card" style="border-color:var(--gray)">
      <div class="content">
        <h3>Traceability</h3>
        <p class="subtle">Each product has a clear batch code, farm, and harvest date.</p>
      </div>
    </div>
    <div class="card" style="border-color:var(--gray)">
      <div class="content">
        <h3>Easy returns</h3>
        <p class="subtle">Not satisfied? 100% refund within 48 hours, no explanation required.</p>
      </div>
    </div>
  </div>
</section>

<script src="{% static 'app/js/home.js' %}"></script>

<script>
  function copyCoupon() {
    const code = document.getElementById('couponCode').innerText;
    navigator.clipboard.writeText(code);
    alert(`Code copied: ${code}`);
  }
</script>

{% endblock %}
