{% extends "app/base.html" %}
{% load static %}

{% block title %}Payment Success – GreenNest{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'app/css/paymentsuccess.css' %}"> 

<section class="payment-success-section"> 
  <div class="container"> 
    <div class="success-card"> 
      <div class="success-icon"> 
        <i class="lni lni-checkmark-circle"></i> 
          </div> <h1 class="success-title">Payment Confirmed!</h1> 
            <p class="success-message"> Thank you for your purchase at <strong>GreenNest</strong>. Your order has been confirmed and is being processed. </p>

  <!-- Order Information -->
  <div class="order-info">
    <div class="order-info-item">
      <span class="info-label">Order ID:</span>
      <span class="info-value">#{{ order.id }}</span>
    </div>
    <div class="order-info-item">
      <span class="info-label">Order Date:</span>
      <span class="info-value">{{ order.date_order|date:"m/d/Y" }}</span>
    </div>
    <div class="order-info-item">
      <span class="info-label">Payment Method:</span>
      <span class="info-value">{{ order.payment_method|default:"Online Payment" }}</span>
    </div>
    <div class="order-info-item">
      <span class="info-label">Total Payment:</span>
      <span class="info-value">${{ order.get_cart_total|floatformat:2 }}</span>
    </div>
  </div>

  <!-- Delivery Information -->
  <div class="delivery-info">
    <h3>Delivery Information</h3>
    <p><strong>Recipient:</strong> {{ order.customer.name }}</p>
    {% with shipping=order.shippingaddress_set.first %}
      <p><strong>Address:</strong> {{ shipping.address }}</p>
    {% endwith %}

    <p><strong>Phone:</strong> {{ order.customer.phone }}</p>
    <p><strong>Estimated Delivery:</strong>
      {{ order.estimated_delivery_start|date:"m/d/Y" }} - {{ order.estimated_delivery_end|date:"m/d/Y" }}
    </p>
  </div>

  <!-- Actions -->
  <div class="success-actions">
    <a href="{% url 'home' %}" class="btn btn-primary">Continue Shopping</a>
    <a href="{% url 'myaccount' %}" class="btn btn-secondary">View Order</a>
  </div>

  <!-- Extra Tips -->
  <div class="order-tips">
    <h3>Food Storage Tips</h3>
    <ul>
      <li>Store vegetables in the refrigerator crisper drawer to maintain freshness.</li>
      <li>Wash fruits and vegetables thoroughly before consumption.</li>
      <li>Keep organic foods separate from conventional foods.</li>
      <li>Use fresh produce within 3–5 days for optimal nutrition.</li>
    </ul>
  </div>
</div>
</div> 
</section> 
{% endblock %}